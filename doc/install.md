## Installation

*1) Install latest **_Raspberry Pi OS Lite_** (e.g. bookworm).

*2) Optional. Install LCD screen driver running script in: [install_lcd.sh](../etc/scripts/install_lcd.sh)

*3) Clone this repository:

```
cd ~/; git clone https://github.com/slmnv5/pepelats
```

*4) To enable auto start edit ~/.bashrc file, append this line at the end:

```
$HOME/pepelats/loop.sh
```

*5) To use a web browser assign host name 'loop'. Then URL to connect is: http://loop.local:8000

```
sudo hostnamectl set-hostname loop
```

*6) Connect MIDI controller and make sure it's name (or part of name) is listed in file **local.ini**
in [MIDI] section.

Also make sure that MIDI controller notes are listed in file **local.ini** in [MIDI] section.

If MIDI controller is missing you may use "--kbd" parameter as explained in next section.

*7) If you have terminal (LCD screen) connected, you need to change ~/loop.ini file to use it as described
in [screen.md](screen.md). By default, web page is used to show looper state.

### Loop.sh script parameters

Below parameters may be used:

- --info -- verbose logging
- --debug -- more verbose logging
- --kbd -- use computer keyboard as MIDI controller. Keys are configured in main.ini file.
  Default six keys are: '1,2,3,4,q,w'.

## Important files

- ~/loop.txt -- is the log file for the current session.
- ~/loop.bak -- keeps about 1000 lines from past sessions.
- ~/loop.ini -- user's custom configuration, it overrides main.ini
- [main.ini](./../main.ini) -- default configuration. Do not edit this file
- ~/save_song -- directory where song files are saved
- config -- directory where configurations for drums, and menus are stored
